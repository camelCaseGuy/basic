10 CLS
20 PRINT "JOYSTICK TEST - PRESS ESC TO EXIT"
30 PRINT: PRINT "X:" : PRINT "Y:" : PRINT "BUTTON 1:" : PRINT "BUTTON 2:"

40 OUT &H201, 0
50 X = INP(&H201)
60 B1 = -(X AND 16 = 0)
70 B2 = -(X AND 32 = 0)

80 XTIME = 0
90 FOR I = 0 TO 65535
100   IF (INP(&H201) AND 1) = 0 THEN XTIME = I: GOTO 130
110 NEXT I
120 XTIME = 65535

130 YTIME = 0
140 FOR I = 0 TO 65535
150   IF (INP(&H201) AND 2) = 0 THEN YTIME = I: GOTO 180
160 NEXT I
170 YTIME = 65535

180 LOCATE 3,5: PRINT "     ": LOCATE 3,5: PRINT XTIME
190 LOCATE 4,5: PRINT "     ": LOCATE 4,5: PRINT YTIME
200 LOCATE 5,11: PRINT " ": LOCATE 5,11: PRINT B1
210 LOCATE 6,11: PRINT " ": LOCATE 6,11: PRINT B2

220 IF INKEY$ = CHR$(27) THEN END
230 GOTO 40
